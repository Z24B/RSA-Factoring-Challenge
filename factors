#!/usr/bin/env bash
# Efficient factors challenge

check_factor() {
    num1=$2
    num2=$3

    if ((num2 > num1)); then
        tmp=$num1
        num1=$num2
        num2=$tmp
    fi

    echo "$1=$num1*$num2"
}

while read -r i; do
    result=$(factor "$i")
    factors=($result)
    
    if (( ${#factors[@]} >= 2 )); then
        check_factor "$i" "${factors[-2]}" "${factors[-1]}"
    else
        echo "Error: Unable to factorize $i"
    fi

done < "$1"

